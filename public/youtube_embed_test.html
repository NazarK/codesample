<iframe class="youtube play_toggle" data-index="0" id="youtube-slide-0" type="text/html" src="//www.youtube.com/embed/_mej5wS7viw?enablejsapi=1&amp;origin=http://localhost:3000&amp;showinfo=0&amp;controls=0" frameborder="0"></iframe>


<style>
iframe {
  width: 400px;
  height: 200px;
}
</style>

<h1>youtube embeded api test</h1>
<div class='container'></div>

<script>
// 2. This code loads the IFrame Player API code asynchronously.
  var tag = document.createElement('script');

  tag.src = "https://www.youtube.com/iframe_api";
  var firstScriptTag = document.getElementsByTagName('script')[0];
  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

  function onReady(event) {
    console.log('onReady',event)
    event.target.playVideo()
  }
  function onStateChange(event) {

    if(event.data==YT.PlayerState.ENDED) {
      console.log("stopped, next slide should be here")
    }
    console.log(event)
  }

  function onYouTubeIframeAPIReady() {

    var slide = {
      youtube: {
        video_id: "<%= @slide.youtube_video_id %>",
      }
    }


    window.player = new YT.Player('youtube-slide-0', {
      events: { onReady: onReady, onStateChange: onStateChange }
    })
  }

</script>

<button onclick='player.playVideo()'>play</button>
<button onclick='player.pauseVideo()'>pause</button>
